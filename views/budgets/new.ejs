<% layout('layouts/boilerplate') %>
<h1>Create New Budget</h1>
<form action="/budgets" class="row" method="POST">
    <div class="mb-3 col-2">
        <label class="form-label" for="month">Month</label>
        <select class="form-select" name="month" id="month">
            <option value="" selected>All</option>
            <option value="1" <%= date.getMonth() + 1 === 1 ? 'selected' : ''%>>Jan</option>
            <option value="2" <%= date.getMonth() + 1 === 2 ? 'selected' : ''%>>Feb</option>
            <option value="3" <%= date.getMonth() + 1 === 3 ? 'selected' : ''%>>Mar</option>
            <option value="4" <%= date.getMonth() + 1 === 4 ? 'selected' : ''%>>Apr</option>
            <option value="5" <%= date.getMonth() + 1 === 5 ? 'selected' : ''%>>May</option>
            <option value="6" <%= date.getMonth() + 1 === 6 ? 'selected' : ''%>>June</option>
            <option value="7" <%= date.getMonth() + 1 === 7 ? 'selected' : ''%>>July</option>
            <option value="8" <%= date.getMonth() + 1 === 8 ? 'selected' : ''%>>Aug</option>
            <option value="9" <%= date.getMonth() + 1 === 9 ? 'selected' : ''%>>Sept</option>
            <option value="10" <%= date.getMonth() + 1 === 10 ? 'selected' : ''%>>Oct</option>
            <option value="11" <%= date.getMonth() + 1 === 11 ? 'selected' : ''%>>Nov</option>
            <option value="12" <%= date.getMonth() + 1 === 12 ? 'selected' : ''%>>Dec</option>
        </select>
    </div>
    <div class="mb-3 col-2">
        <label class="form-label" for="year">Year</label>
        <select class="form-select" name="year" id="year">
            <% for(let i = 2015; i <= date.getFullYear(); i++) {%>
            <option value="<%=i%>" selected><%= i %></option>
            <% } %>
        </select>
    </div>
    <div class="mb-3 col-3">
        <label class="form-label" for="amount">Total Income for Month:</label>
        <input class="form-control" type="number" name="amount" id="amount">
    </div>
    <div class="col-5"></div>
    <div class="row mb-3">
        <% for(let c of categories) {%>
        <div class="col-3 d-flex justify-content-between align-items-baseline mb-1">
            <label for="<%=c.title%>" class="form-label"><%=c.title%>:</label>
            <input class="hide" type="text" name="categories[category]" value="<%=c._id%>">
            <input type="number" name="categories[amount]" id="<%=c.title%>" class="form-control w-50 py-1">
        </div>
        <div class="col-10"></div>
        <% } %>
    </div>
    <div class="mb-3">
        <button class="btn btn-success">Create</button>
    </div>
</form>